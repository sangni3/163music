"use strict";(self["webpackChunkvue_163music"]=self["webpackChunkvue_163music"]||[]).push([[475],{6475:function(t,s,a){a.r(s),a.d(s,{default:function(){return c}});var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"result-container"},[a("div",{staticClass:"title-wrap"},[a("h2",{staticClass:"title"},[t._v(t._s(t.$route.query.q))]),a("span",{staticClass:"sub-title"},[t._v("找到 "+t._s(t.count)+" 个结果")])]),a("el-tabs",{model:{value:t.activeIndex,callback:function(s){t.activeIndex=s},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.songList}},[a("el-table-column",{attrs:{label:"",type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"音乐标题",width:""}}),a("el-table-column",{attrs:{prop:"artists[0].name",label:"歌手",width:""}}),a("el-table-column",{attrs:{prop:"album.name",label:"专辑",width:"170"}}),a("el-table-column",{attrs:{prop:"duration",label:"时长",width:"120"}}),a("el-table-column",{attrs:{prop:"",label:"功能"},scopedSlots:t._u([{key:"default",fn:function(s){return[t.isPay!=s.row.id?a("i",{staticClass:"el-icon-video-play",staticStyle:{"font-size":"22px"},on:{click:function(a){return t.playMusic(s.row.id,s.row.name)}}}):a("i",{staticClass:"el-icon-video-pause",staticStyle:{"font-size":"22px"},on:{click:function(s){return t.audioPause()}}}),a("i",{staticClass:"el-icon-star-off",staticStyle:{"font-size":"22px"},on:{click:function(a){return t.LikeMusic(s.row.id)}}}),a("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"22px"},on:{click:function(a){return t.MoreMusic(s.row.id)}}})]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.count,"current-page":t.page},on:{"current-change":t.handleCurrentChangeMusic}})],1),a("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[a("div",{staticClass:"items"},t._l(t.playlists,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.gotoMusicPlaylist(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),a("span",{staticClass:"num"},[t._v(t._s(s.playCount))])]),a("img",{attrs:{src:s.coverImgUrl,onerror:t.errorImage,alt:""}}),a("span",{staticClass:"iconfont icon-play"},[a("i",{staticClass:"el-icon-video-play"})])]),a("p",{staticClass:"name"},[t._v(t._s(s.name))])])})),0),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.count,"current-page":t.MusicListpage},on:{"current-change":t.handleCurrentChangeMusicList}})],1),a("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[a("div",{staticClass:"items mv"},t._l(t.mv,(function(s,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){return t.gotoMusicMv(s.id)}}},[a("div",{staticClass:"img-wrap"},[a("img",{attrs:{src:s.cover,alt:""}}),a("span",{staticClass:"iconfont icon-play"},[a("i",{staticClass:"el-icon-video-play"})]),a("div",{staticClass:"num-wrap"},[a("div",{staticClass:"num"},[t._v(t._s(s.playCount))])]),a("span",{staticClass:"time"},[t._v(t._s(s.duration))])]),a("div",{staticClass:"info-wrap"},[a("div",{staticClass:"name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])])})),0),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.count,"current-page":t.MVpage},on:{"current-change":t.handleCurrentChangeMusicMV}})],1)],1)],1)},e=[],l={data(){return{errorImage:'this.src="'+a(7755)+'"',activeIndex:"songs",songList:[],playlists:[],mv:[],count:0,isPay:!0,page:1,limit:10,MusicListpage:1,MusicListlimit:10,MVpage:1,MVlimit:8}},created(){this.getSearchMusicdata()},watch:{async activeIndex(){let t=1,s=10;switch(this.activeIndex){case"songs":t=1,s=10;break;case"lists":t=1e3,s=10;break;case"mv":t=1004,s=8;break;default:break}const{data:a}=await this.$http.get("search",{params:{keywords:this.$route.query.q,type:t,limit:s}});if(200!=a.code)return this.$message.error("error:请检查网络 ");if(null!=a.msg)return this.$message.error("error:该歌手已经被屏蔽！请理智听歌");if(1==t){this.songList=a.result.songs;for(let t=0;t<this.songList.length;t++){let s=parseInt(this.songList[t].duration/1e3/60),a=parseInt(this.songList[t].duration/1e3%60);s<10&&(s="0"+s),a<10&&(a="0"+a),this.songList[t].duration=s+":"+a}this.count=a.result.songCount}else if(1e3==t){this.playlists=a.result.playlists,this.count=a.result.playlistCount;for(let t=0;t<this.playlists.length;t++)this.playlists[t].playCount>1e5&&(this.playlists[t].playCount=parseInt(this.playlists[t].playCount/1e4)+"万")}else{this.mv=a.result.mvs,this.count=a.result.mvCount;for(let t=0;t<this.mv.length;t++){let s=parseInt(this.mv[t].duration/1e3/60),a=parseInt(this.mv[t].duration/1e3%60);s<10&&(s="0"+s),a<10&&(a="0"+a),this.mv[t].duration=s+":"+a,this.mv[t].playCount>1e5&&(this.mv[t].playCount=parseInt(this.mv[t].playCount/1e4)+"万")}}}},methods:{async handleCurrentChangeMusic(t){this.page=t,this.getSearchMusicdata()},async handleCurrentChangeMusicList(t){this.MusicListpage=t,this.getSearchMusicListdata()},async handleCurrentChangeMusicMV(t){this.MVpage=t,this.getSearchMusicMVdata()},async gotoMusicMv(t){await this.$router.push(`/PlayMusicMV?q=${t}`)},async gotoMusicPlaylist(t){await this.$router.push(`/PlayMusicList?q=${t}`)},async getSearchMusicdata(){const{data:t}=await this.$http.get("search",{params:{keywords:this.$route.query.q,type:1,limit:10,offset:(this.page-1)*this.limit}});if(200!=t.code)return this.$message.error("error:请检查网络 ");if(null!=t.msg)return this.$message.error("error:该歌手被屏蔽！请理智听歌");this.songList=t.result.songs;for(let s=0;s<this.songList.length;s++){let t=parseInt(this.songList[s].duration/1e3/60),a=parseInt(this.songList[s].duration/1e3%60);t<10&&(t="0"+t),a<10&&(a="0"+a),this.songList[s].duration=t+":"+a}this.count=t.result.songCount},async getSearchMusicListdata(){const{data:t}=await this.$http.get("/search",{params:{keywords:this.$route.query.q,type:1e3,limit:this.MusicListlimit,offset:(this.MusicListpage-1)*this.MusicListlimit}});if(200!=t.code)return this.$message.error("error:请检查网络 ");this.playlists=t.result.playlists;for(let s=0;s<this.playlists.length;s++)this.playlists[s].playCount>1e5&&(this.playlists[s].playCount=parseInt(this.playlists[s].playCount/1e4)+"万")},async getSearchMusicMVdata(){const{data:t}=await this.$http.get("search",{params:{keywords:this.$route.query.q,type:1004,limit:8,offset:(this.MVpage-1)*this.MVlimit}});if(200!=t.code)return this.$message.error("error:请检查网络 ");this.mv=t.result.mvs,this.count=t.result.mvCount;for(let s=0;s<this.mv.length;s++){let t=parseInt(this.mv[s].duration/1e3/60),a=parseInt(this.mv[s].duration/1e3%60);t<10&&(t="0"+t),a<10&&(a="0"+a),this.mv[s].duration=t+":"+a,this.mv[s].playCount>1e5&&(this.mv[s].playCount=parseInt(this.mv[s].playCount/1e4)+"万")}},async playMusic(t,s=null){this.isPay=t;const{data:a}=await this.$http.get("/song/url?id="+t);if(200!==a.code)return this.$message.error("error:获取歌曲地址失败，请检查版权...或者网络 ");{let t=a.data[0].url;this.$parent.audioSrc(t),this.$parent.audioSong(s),this.$parent.audioPlay()}},async audioPause(){this.isPay=null,await this.$parent.audioPause()},LikeMusic(){return this.$message.warning("warning:该功能待更新，仅提供音乐试听")},MoreMusic(){return this.$message.warning("warning:该功能待更新，仅提供音乐试听")}}},r=l,n=a(1001),o=(0,n.Z)(r,i,e,!1,null,null,null),c=o.exports},7755:function(t){t.exports="data:image/jpeg;base64,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"}}]);
//# sourceMappingURL=475.231e8a13.js.map